<div class="form-emails-input">
  <div class="row" id="email-row">
    <label
      for="settings-email"
      class="
        label-custom label-medium label-bottom-with-link
        col-sm-7 col-xs-12
      "
    >
      Emails where responses will be sent
      <i
        class="glyphicon glyphicon-question-sign"
        uib-tooltip="Specify up to 30 email addresses, separated by commas"
        tooltip-trigger="'click mouseenter'"
      ></i>
    </label>
    <div
      class="label-normal label-bottom-with-link col-sm-5 col-xs-12"
      id="email-reliability-link"
    >
      <a
        translate-attr="{ href: 'LINKS.GUIDE.GUARD_EMAIL_BOUNCE' }"
        target="_blank"
        class=""
        >Guarding against bounces</a
      >
    </div>
  </div>
  <div>
    <input
      id="settings-email"
      class="input-custom input-medium"
      type="text"
      placeholder="e.g. leo@data.gov.sg, john@data.gov.sg"
      ng-model="vm.formData.emails"
      name="emailList"
      ng-required="vm.formData.responseMode === 'email'"
      autocomplete="off"
      ng-keyup="($event.keyCode === 13 && vm.formController.emailList.$valid) && vm.saveForm()"
      ng-blur="vm.saveForm()"
      ng-class="vm.formController.emailList.$valid ? '' : 'input-error'"
      validate-form-emails-input
    />
  </div>

  <div
    ng-show="vm.formController.emailList.$valid && vm.emailInfoMsg"
    class="alert-custom alert-info"
  >
    <i class="bx bx-error-circle bx-md icon-spacing"></i>
    <span class="alert-msg"> {{vm.emailInfoMsg}} </span>
  </div>
  <div
    ng-show="vm.formController.emailList.$invalid && vm.formController.emailList.$dirty"
    ng-messages="vm.formController.emailList.$error"
    class="alert-custom alert-error"
  >
    <div ng-message="required">
      <i class="bx bx-exclamation bx-md icon-spacing"></i>
      <span class="alert-msg"
        >You must at least enter one email to receive responses</span
      >
    </div>
    <div ng-message="validEmails">
      <i class="bx bx-exclamation bx-md icon-spacing"></i>
      <span class="alert-msg"
        >Please enter valid email(s) (e.g. me@example.com) separated by
        commas</span
      >
    </div>
    <div ng-message="duplicateEmails">
      <i class="bx bx-exclamation bx-md icon-spacing"></i>
      <span class="alert-msg">Please remove duplicate emails</span>
    </div>
    <div ng-message="maxNumEmails">
      <i class="bx bx-exclamation bx-md icon-spacing"></i>
      <span class="alert-msg">Please limit number of emails to 30</span>
    </div>
  </div>
</div>
